<head>
<!--  <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>-->
<!--  <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css"/>-->
  <link rel="stylesheet" href="/user/profile.css" type="text/css"/>
</head>
<div class="content-wrapper">
  <div class="row" style="margin-top: 5%">
    <div class="col-md-2 stretch-card" style="margin-left: 7%">
      <div class="card" style="text-align: center">
        <div class="text-center profile-img-div" style="margin-top: 10%">
          <img src="<%= session[:profile]['avatar'] %>" class="rounded-circle" style="width: 150px;" alt="Avatar" class="rounded"/>
        </div>
        <!--profile summary card for profile-->
        <div class="card-body">
          <h5 class="card-title profile-user-fullname"><%= session[:profile]['username'] %></h5>
          <p class="card-text profile-user-email"><%= session[:email] %></p>
        </div>
        <hr/>
        <ul class="list-group list-group-flush profile-list">
          <li class="list-group-item profile-list-item profile-header-bar" id="avatar-tab" onclick="change_tab('avatar')">
            <i class="mdi mdi-folder-image">&nbsp;&nbsp;&nbsp;</i>Edit Avatar
          </li>
          <li class="list-group-item profile-list-item profile-header-bar active" id="view-tab" onclick="change_tab('view')">
            <i class="mdi mdi-account-box">&nbsp;&nbsp;&nbsp;</i>View Profile
          </li>
          <li class="list-group-item profile-list-item profile-header-bar" id="edit-tab" onclick="change_tab('edit')">
            <i class="mdi mdi-table-edit">&nbsp;&nbsp;&nbsp;</i>Edit Profile
          </li>
        </ul>
      </div>
    </div>
    <div class="col-md-8 stretch-card">
      <div class="row" style="width: 100%">
        <!--head bar for profile-->
        <div class="col-md-12 stretch-card profile-containter">
          <div class="card profile-header-bar">
            <div class="card-body py-0 px-0 px-sm-3 profile-header-container">
              <div class="row align-items-center bio-graph-heading">
                <b id="save-btn" onclick="submit()">View Your Profile</b>
              </div>
            </div>
          </div>
        </div>
        <!--content for profile-->
        <div class="tab-content" style="padding: 0; border: unset">
          <div class="container tab-pane fade">
            <div class="col-md-12 stretch-card">
              <div class="card">
                <div class="card-body" style="text-align: center">
                  <form action="/user/save_avatar/<%= session[:uid] %>" method="get"></form>
                  <form action="/user/upload_avatar" class="dropzone" id="my-awesome-dropzone" method="post">
                    <input type="file" name="file" id="avatar_file"/>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <div id="avatar" class="container tab-pane fade">
            <div class="col-md-12 stretch-card">
              <div class="card">
                <div class="card-body" style="text-align: center">
                  <form action="/user/avatar" method="post" id="save_avatar">
                    <input hidden name="uid" value="<%=session[:uid] %>">
                    <input hidden name="index" id="avatar-index">
                  </form>
                  <ul class="select-avatar" id="avatar-list">
                    <li id="i1" value="1"><img src="/main/assets/images/faces/face1.jpg"/></li>
                    <li id="i2" value="2"><img src="/main/assets/images/faces/face2.jpg"/></li>
                    <li id="i3" value="3" ><img src="/main/assets/images/faces/face3.jpg"/></li>
                    <li id="i4" value="4"><img src="/main/assets/images/faces/face4.jpg"/></li>
                    <li id="i5" value="5"><img src="/main/assets/images/faces/face5.jpg"/></li>
                    <li id="i6" value="6"><img src="/main/assets/images/faces/face6.jpg"/></li>
                    <li id="i7" value="7"><img src="/main/assets/images/faces/face7.jpg"/></li>
                    <li id="i8" value="8"><img src="/main/assets/images/faces/face8.jpg"/></li>
                    <li id="i9" value="8"><img src="/main/assets/images/faces/face9.jpg"/></li>
                    <li id="i10" value="10"><img src="/main/assets/images/faces/face10.jpg"/></li>
                    <li id="i11" value="11"><img src="/main/assets/images/faces/face11.jpg"/></li>
                    <li id="i12" value="12"><img src="/main/assets/images/faces/face12.jpg"/></li>
                    <li id="i13" value="13"><img src="/main/assets/images/faces/face13.jpg"/></li>
                    <li id="i14" value="14"><img src="/main/assets/images/faces/face14.jpg"/></li>
                    <li id="i15" value="15"><img src="/main/assets/images/faces/face15.jpg"/></li>
                    <li id="i16" value="16"><img src="/main/assets/images/faces/face16.jpg"/></li>
                    <li id="i17" value="17"><img src="/main/assets/images/faces/face17.jpg"/></li>
                    <li id="i18" value="18"><img src="/main/assets/images/faces/face18.jpg"/></li>
                    <li id="i19" value="19"><img src="/main/assets/images/faces/face19.jpg"/></li>
                    <li id="i20" value="20"><img src="/main/assets/images/faces/face20.jpg"/></li>
                    <li id="i21" value="21"><img src="/main/assets/images/faces/face21.jpg"/></li>
                    <li id="i22" value="22"><img src="/main/assets/images/faces/face22.jpg"/></li>
                    <li id="i23" value="23"><img src="/main/assets/images/faces/face23.jpg"/></li>
                    <li id="i24" value="24"><img src="/main/assets/images/faces/face24.jpg"/></li>
                    <li id="i25" value="25"><img src="/main/assets/images/faces/face25.jpg"/></li>
                    <li id="i26" value="26"><img src="/main/assets/images/faces/face26.jpg"/></li>
                    <li id="i27" value="27"><img src="/main/assets/images/faces/face27.jpg"/></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div id="view" class="container tab-pane active">
            <div class="col-md-12 stretch-card">
              <div class="card">
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="preview-list">
                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">UserName </h6>
                            </div>
                            <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:profile]['username'] %>">
                            </div>
                          </div>
                        </div>

                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">Email </h6>
                            </div>
                            <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:email] %>">
                            </div>
                          </div>
                        </div>

                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">City </h6>
                            </div>
                            <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:profile]['city'] %>">
                            </div>
                          </div>
                        </div>

                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">Membership </h6>
                            </div>
                            <div class="me-auto text-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= if session[:profile]['status'] == 0 then
                                                                                                                    'Standard Member'
                                                                                                                  else
                                                                                                                    'Gold Member'
                                                                                                                  end %>">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-6">
                      <div class="preview-list">
                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">Role </h6>
                            </div>
                            <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:profile]['role'] %>">
                            </div>
                          </div>
                        </div>

                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">Company </h6>
                            </div>
                            <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:profile]['company'] %>">
                            </div>
                          </div>
                        </div>

                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">School </h6>
                            </div>
                            <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:profile]['school'] %>">
                            </div>
                          </div>
                        </div>

                        <div class="preview-item border-bottom">
                          <div class="preview-item-content d-sm-flex flex-grow">
                            <div class="me-auto text-sm-left pt-2 full-width">
                              <h6 class="preview-subject">Expiration Date</h6>
                            </div>
                            <div class="me-auto text-right pt-2 pt-sm-0 full-width">
                              <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:profile]['expiration_date'] %>">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row" style="height: 100px">
                    <div class="preview-item border-bottom" style="padding-top: 2%; padding-bottom: 2%">
                      <div class="preview-item-content d-sm-flex flex-grow" style="height: 100%">
                        <div class="me-auto text-sm-left pt-2" style="width: 32%">
                          <h6 class="preview-subject">Bio</h6>
                        </div>
                        <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width" style="height: 100%">
                          <textarea readonly class="form-control-plaintext profile-input full-width" id="profile-user-firstname" style="height: 100%"><%= session[:profile]['bio'] %></textarea>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
          <div id="edit" class="container tab-pane fade">
            <div class="col-md-12 stretch-card">
              <div class="card">
                <form action="/user/update" method="post" id="profile-edit">
                  <div class="card-body">
                    <input hidden type="text" value="<%= session[:uid] %>" name="uid">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="preview-list">
                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">UserName </h6>
                              </div>
                              <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                                <input readonly type="text" class="form-control-plaintext profile-input" name="username" value="<%= session[:profile]['username'] %>">
                              </div>
                            </div>
                          </div>

                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">Email </h6>
                              </div>
                              <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                                <input readonly type="text" class="form-control-plaintext profile-input" name="email" value="<%= session[:email] %>">
                              </div>
                            </div>
                          </div>

                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">City </h6>
                              </div>
                              <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                                <input type="text" class="form-control-plaintext profile-input" name="city" value="<%= session[:profile]['city'] %>">
                              </div>
                            </div>
                          </div>

                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">Membership </h6>
                              </div>
                              <div class="me-auto text-right pt-2 pt-sm-0 full-width">
                                <input type="text" readonly class="form-control-plaintext profile-input" value="<%= if session[:profile]['status'] == 0 then
                                                                                                                      'Standard Member'
                                                                                                                    else
                                                                                                                      'Gold Member'
                                                                                                                    end %>">
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <div class="preview-list">
                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">Role </h6>
                              </div>
                              <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                                <input type="text" class="form-control-plaintext profile-input" name="role" value="<%= session[:profile]['role'] %>">
                              </div>
                            </div>
                          </div>

                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">Company </h6>
                              </div>
                              <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                                <input type="text" class="form-control-plaintext profile-input" name="company" value="<%= session[:profile]['company'] %>">
                              </div>
                            </div>
                          </div>

                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">School </h6>
                              </div>
                              <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width">
                                <input type="text" class="form-control-plaintext profile-input" name="school" value="<%= session[:profile]['school'] %>">
                              </div>
                            </div>
                          </div>

                          <div class="preview-item border-bottom">
                            <div class="preview-item-content d-sm-flex flex-grow">
                              <div class="me-auto text-sm-left pt-2 full-width">
                                <h6 class="preview-subject">Expiration Date</h6>
                              </div>
                              <div class="me-auto text-right pt-2 pt-sm-0 full-width">
                                <input type="text" readonly class="form-control-plaintext profile-input" value="<%= session[:profile]['expiration_date'] %>">
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row" style="height: 100px">
                      <div class="preview-item border-bottom" style="padding-top: 2%; padding-bottom: 2%">
                        <div class="preview-item-content d-sm-flex flex-grow" style="height: 100%">
                          <div class="me-auto text-sm-left pt-2" style="width: 32%">
                            <h6 class="preview-subject">Bio</h6>
                          </div>
                          <div class="me-auto text-sm-right pt-2 pt-sm-0 full-width" style="height: 100%">
                            <textarea class="form-control-plaintext profile-input full-width" name="bio" style="height: 100%"><%= session[:profile]['bio'] %></textarea>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="/user/profile.js"></script>
